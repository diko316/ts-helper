{"version":3,"file":"get-metadata.function.mjs","sources":["../../lib/meta-data/get-metadata.function.ts"],"sourcesContent":["import { walkPrototype } from '../object/walk-prototype.function';\nimport { getOwnMetadata } from './get-own-metadata.function';\nimport { hasOwnMetadata } from './has-own-metadata.function';\nimport { isMetadataKey } from './is-metadata-key.function';\nimport { isMetadataPropertyKey } from './is-metadata-property-key.function';\nimport { isMetadataTarget } from './is-metadata-target.function';\nimport {\n  MetadataKey,\n  MetadataPropertyKey,\n  MetadataTarget,\n  MetadataValue,\n} from './meta-data.type';\nimport { DEFAULT_METADATA_PROPERTY_KEY } from './store.constant';\n\nexport function getMetadata<ClassOrInstance extends MetadataTarget>(\n  key: MetadataKey,\n  target: ClassOrInstance,\n  propertyKey?: MetadataPropertyKey\n): MetadataValue {\n  if (!isMetadataTarget(target) || !isMetadataKey(key)) {\n    return false;\n  }\n  const access = isMetadataPropertyKey(propertyKey)\n    ? propertyKey\n    : DEFAULT_METADATA_PROPERTY_KEY;\n\n  function foundMetadata(currentTarget: MetadataTarget): boolean {\n    return hasOwnMetadata(key, currentTarget, access);\n  }\n\n  const result = walkPrototype(target, foundMetadata);\n\n  if (!result) {\n    return;\n  }\n\n  return getOwnMetadata(key, result, access);\n}\n"],"names":["isMetadataPropertyKey"],"mappings":";;;;;;;SAcgB,WAAW,CACzB,GAAgB,EAChB,MAAuB,EACvB,WAAiC,EAAA;IAEjC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;AACpD,QAAA,OAAO,KAAK,CAAC;AACd,KAAA;AACD,IAAA,MAAM,MAAM,GAAGA,aAAqB,CAAC,WAAW,CAAC;AAC/C,UAAE,WAAW;UACX,6BAA6B,CAAC;IAElC,SAAS,aAAa,CAAC,aAA6B,EAAA;QAClD,OAAO,cAAc,CAAC,GAAG,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;KACnD;IAED,MAAM,MAAM,GAAG,aAAa,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;IAEpD,IAAI,CAAC,MAAM,EAAE;QACX,OAAO;AACR,KAAA;IAED,OAAO,cAAc,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;AAC7C;;;;"}