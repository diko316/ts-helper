{"version":3,"file":"create-decorator.function.mjs","sources":["../../lib/decorator/create-decorator.function.ts"],"sourcesContent":["import { AnyClass, AnyType } from '../misc';\n\nimport {\n  DECORATOR_TYPE_ACCESSOR,\n  DECORATOR_TYPE_CLASS,\n  DECORATOR_TYPE_METHOD,\n  DECORATOR_TYPE_PARAMETER,\n  DECORATOR_TYPE_PROPERTY,\n  DECORATOR_TYPE_STATIC_ACCESSOR,\n  DECORATOR_TYPE_STATIC_METHOD,\n  DECORATOR_TYPE_STATIC_PARAMETER,\n  DECORATOR_TYPE_STATIC_PROPERTY,\n} from './create-decorator.constant';\n\nimport {\n  CreateDecoratorOptions,\n  UnifiedDecorator,\n} from './create-decorator.type';\nimport { getDecoratorCallInfo } from './get-decorator-call-info.function';\nimport { DecoratorCallParameters } from './get-decorator-call-info.type';\n\nexport function createDecorator<Settings>({\n  settings,\n  classDecorator,\n  propertyDecorator,\n  methodDecorator,\n  accessorDecorator,\n  parameterDecorator,\n  staticPropertyDecorator,\n  staticMethodDecorator,\n  staticAccessorDecorator,\n  staticParameterDecorator,\n}: Partial<CreateDecoratorOptions<Settings>>): UnifiedDecorator {\n  function decorator<Class extends AnyClass>(\n    ...callParams: DecoratorCallParameters<Class>\n  ): AnyType {\n    const info = getDecoratorCallInfo(callParams);\n\n    switch (info?.type) {\n      case DECORATOR_TYPE_CLASS:\n        if (classDecorator) {\n          return classDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_PROPERTY:\n        if (propertyDecorator) {\n          return propertyDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_PROPERTY:\n        if (staticPropertyDecorator) {\n          return staticPropertyDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_METHOD:\n        if (methodDecorator) {\n          return methodDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_METHOD:\n        if (staticMethodDecorator) {\n          return staticMethodDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_ACCESSOR:\n        if (accessorDecorator) {\n          return accessorDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_ACCESSOR:\n        if (staticAccessorDecorator) {\n          return staticAccessorDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_PARAMETER:\n        if (parameterDecorator) {\n          return parameterDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_PARAMETER:\n        if (staticParameterDecorator) {\n          return staticParameterDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      default:\n        return;\n    }\n  }\n\n  return decorator;\n}\n"],"names":[],"mappings":";;;AAqBM,SAAU,eAAe,CAAW,EACxC,QAAQ,EACR,cAAc,EACd,iBAAiB,EACjB,eAAe,EACf,iBAAiB,EACjB,kBAAkB,EAClB,uBAAuB,EACvB,qBAAqB,EACrB,uBAAuB,EACvB,wBAAwB,GACkB,EAAA;IAC1C,SAAS,SAAS,CAChB,GAAG,UAA0C,EAAA;AAE7C,QAAA,MAAM,IAAI,GAAG,oBAAoB,CAAC,UAAU,CAAC,CAAC;AAE9C,QAAA,QAAQ,IAAI,KAAJ,IAAA,IAAA,IAAI,uBAAJ,IAAI,CAAE,IAAI;AAChB,YAAA,KAAK,oBAAoB;AACvB,gBAAA,IAAI,cAAc,EAAE;AAClB,oBAAA,OAAO,cAAc,CAAC;AACpB,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,uBAAuB;AAC1B,gBAAA,IAAI,iBAAiB,EAAE;AACrB,oBAAA,OAAO,iBAAiB,CAAC;AACvB,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,8BAA8B;AACjC,gBAAA,IAAI,uBAAuB,EAAE;AAC3B,oBAAA,OAAO,uBAAuB,CAAC;AAC7B,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,qBAAqB;AACxB,gBAAA,IAAI,eAAe,EAAE;AACnB,oBAAA,OAAO,eAAe,CAAC;AACrB,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,4BAA4B;AAC/B,gBAAA,IAAI,qBAAqB,EAAE;AACzB,oBAAA,OAAO,qBAAqB,CAAC;AAC3B,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,uBAAuB;AAC1B,gBAAA,IAAI,iBAAiB,EAAE;AACrB,oBAAA,OAAO,iBAAiB,CAAC;AACvB,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,8BAA8B;AACjC,gBAAA,IAAI,uBAAuB,EAAE;AAC3B,oBAAA,OAAO,uBAAuB,CAAC;AAC7B,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,wBAAwB;AAC3B,gBAAA,IAAI,kBAAkB,EAAE;AACtB,oBAAA,OAAO,kBAAkB,CAAC;AACxB,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAK,+BAA+B;AAClC,gBAAA,IAAI,wBAAwB,EAAE;AAC5B,oBAAA,OAAO,wBAAwB,CAAC;AAC9B,wBAAA,GAAG,IAAI;AACP,wBAAA,QAAQ,EAAE,QAAoB;AAC/B,qBAAA,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA;gBACE,OAAO;AACV,SAAA;KACF;AAED,IAAA,OAAO,SAAS,CAAC;AACnB;;;;"}