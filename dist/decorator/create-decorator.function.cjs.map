{"version":3,"file":"create-decorator.function.cjs","sources":["../../lib/decorator/create-decorator.function.ts"],"sourcesContent":["import { AnyClass, AnyType } from '../misc';\n\nimport {\n  DECORATOR_TYPE_ACCESSOR,\n  DECORATOR_TYPE_CLASS,\n  DECORATOR_TYPE_METHOD,\n  DECORATOR_TYPE_PARAMETER,\n  DECORATOR_TYPE_PROPERTY,\n  DECORATOR_TYPE_STATIC_ACCESSOR,\n  DECORATOR_TYPE_STATIC_METHOD,\n  DECORATOR_TYPE_STATIC_PARAMETER,\n  DECORATOR_TYPE_STATIC_PROPERTY,\n} from './create-decorator.constant';\n\nimport {\n  CreateDecoratorOptions,\n  UnifiedDecorator,\n} from './create-decorator.type';\nimport { getDecoratorCallInfo } from './get-decorator-call-info.function';\nimport { DecoratorCallParameters } from './get-decorator-call-info.type';\n\nexport function createDecorator<Settings>({\n  settings,\n  classDecorator,\n  propertyDecorator,\n  methodDecorator,\n  accessorDecorator,\n  parameterDecorator,\n  staticPropertyDecorator,\n  staticMethodDecorator,\n  staticAccessorDecorator,\n  staticParameterDecorator,\n}: Partial<CreateDecoratorOptions<Settings>>): UnifiedDecorator {\n  function decorator<Class extends AnyClass>(\n    ...callParams: DecoratorCallParameters<Class>\n  ): AnyType {\n    const info = getDecoratorCallInfo(callParams);\n\n    switch (info?.type) {\n      case DECORATOR_TYPE_CLASS:\n        if (classDecorator) {\n          return classDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_PROPERTY:\n        if (propertyDecorator) {\n          return propertyDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_PROPERTY:\n        if (staticPropertyDecorator) {\n          return staticPropertyDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_METHOD:\n        if (methodDecorator) {\n          return methodDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_METHOD:\n        if (staticMethodDecorator) {\n          return staticMethodDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_ACCESSOR:\n        if (accessorDecorator) {\n          return accessorDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_ACCESSOR:\n        if (staticAccessorDecorator) {\n          return staticAccessorDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_PARAMETER:\n        if (parameterDecorator) {\n          return parameterDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      case DECORATOR_TYPE_STATIC_PARAMETER:\n        if (staticParameterDecorator) {\n          return staticParameterDecorator({\n            ...info,\n            settings: settings as Settings,\n          });\n        }\n        return;\n\n      default:\n        return;\n    }\n  }\n\n  return decorator;\n}\n"],"names":["const","getDecoratorCallInfo","DECORATOR_TYPE_CLASS","DECORATOR_TYPE_PROPERTY","DECORATOR_TYPE_STATIC_PROPERTY","DECORATOR_TYPE_METHOD","DECORATOR_TYPE_STATIC_METHOD","DECORATOR_TYPE_ACCESSOR","DECORATOR_TYPE_STATIC_ACCESSOR","DECORATOR_TYPE_PARAMETER","DECORATOR_TYPE_STATIC_PARAMETER"],"mappings":";;;;;AAqBM,SAAU,eAAe,CAWa,GAAA,EAAA;AAT1C,IAAA,IAAA,QAAA,GAAA,GAAA,CAAA,QAAA,CAAA;AACA,IAAA,IAAA,cAAA,GAAA,GAAA,CAAA,cAAA,CAAA;AACA,IAAA,IAAA,iBAAA,GAAA,GAAA,CAAA,iBAAA,CAAA;AACA,IAAA,IAAA,eAAA,GAAA,GAAA,CAAA,eAAA,CAAA;AACA,IAAA,IAAA,iBAAA,GAAA,GAAA,CAAA,iBAAA,CAAA;AACA,IAAA,IAAA,kBAAA,GAAA,GAAA,CAAA,kBAAA,CAAA;AACA,IAAA,IAAA,uBAAA,GAAA,GAAA,CAAA,uBAAA,CAAA;AACA,IAAA,IAAA,qBAAA,GAAA,GAAA,CAAA,qBAAA,CAAA;AACA,IAAA,IAAA,uBAAA,GAAA,GAAA,CAAA,uBAAA,CAAA;;AAC0C;IAC1C,SAAS,SAAS,GAC6B;;;AAAA;AAE7C,QAAAA,IAAM,IAAI,GAAGC,kDAAoB,CAAC,UAAU,CAAC,CAAC;AAE9C,QAAA,QAAQ,IAAI,KAAJ,IAAA,IAAA,IAAI,uBAAJ,IAAI,CAAE,IAAI;AAChB,YAAA,KAAKC,6CAAoB;AACvB,gBAAA,IAAI,cAAc,EAAE;AAClB,oBAAA,OAAO,cAAc,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EACjB,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,gDAAuB;AAC1B,gBAAA,IAAI,iBAAiB,EAAE;AACrB,oBAAA,OAAO,iBAAiB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EACpB,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,uDAA8B;AACjC,gBAAA,IAAI,uBAAuB,EAAE;AAC3B,oBAAA,OAAO,uBAAuB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EAC1B,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,8CAAqB;AACxB,gBAAA,IAAI,eAAe,EAAE;AACnB,oBAAA,OAAO,eAAe,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EAClB,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,qDAA4B;AAC/B,gBAAA,IAAI,qBAAqB,EAAE;AACzB,oBAAA,OAAO,qBAAqB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EACxB,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,gDAAuB;AAC1B,gBAAA,IAAI,iBAAiB,EAAE;AACrB,oBAAA,OAAO,iBAAiB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EACpB,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,uDAA8B;AACjC,gBAAA,IAAI,uBAAuB,EAAE;AAC3B,oBAAA,OAAO,uBAAuB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EAC1B,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,iDAAwB;AAC3B,gBAAA,IAAI,kBAAkB,EAAE;AACtB,oBAAA,OAAO,kBAAkB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EACrB,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA,KAAKC,wDAA+B;AAClC,gBAAA,IAAI,wBAAwB,EAAE;AAC5B,oBAAA,OAAO,wBAAwB,CAAC,MAAA,CAAA,MAAA,CAAA,EAAA,EAC3B,IAAI;AACP,wBAAA,CAAA,QAAQ,EAAE,QAAoB,CAAA,CAC/B,CAAC,CAAC;AACJ,iBAAA;gBACD,OAAO;AAET,YAAA;gBACE,OAAO;AACV,SAAA;KACF;AAED,IAAA,OAAO,SAAS,CAAC;AACnB;;;;"}